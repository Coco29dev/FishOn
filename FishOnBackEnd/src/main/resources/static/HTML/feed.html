<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="FishOn - Fil d'actualit√© des p√™cheurs">
    <title>FishOn - Feed</title>
    <link rel="stylesheet" href="../CSS/feed.css">
</head>
<body>

<!-- ========== BARRE DE NAVIGATION ========== -->
<!-- Barre de navigation fixe en haut de la page avec logo et boutons utilisateur -->
<nav class="nav-bar">
    <div class="nav-container">
        <!-- Logo de l'application FishOn -->
        <div class="nav-logo">
            <span class="nav-brand">FishOn</span>
        </div>

        <!-- Boutons de navigation pour l'utilisateur connect√© -->
        <div class="nav-buttons">
            <button id="journalBtn" class="nav-btn">Journal de Bord</button>
            <button id="profileBtn" class="nav-btn">Ton navire !</button>
            <button id="logoutBtn" class="nav-btn btn-logout">D√©connexion</button>
        </div>
    </div>
</nav>

<!-- ========== CONTENU PRINCIPAL DE LA PAGE ========== -->
<!-- Container principal qui contient tout le feed des publications -->
<div class="feed-container">
    <!-- Carte principale du feed avec titre et publications -->
    <div class="feed-card">

        <!-- ========== EN-T√äTE DU FEED ========== -->
        <!-- Titre et sous-titre d'accueil du feed -->
        <div class="feed-title">
            <h1>A l'aventure marin d'eau douce !</h1>
            <p class="feed-subtitle">D√©couvrez les derni√®res prises de la communaut√©</p>
        </div>

        <!-- ========== MESSAGES D'√âTAT ========== -->
        <!-- Message affich√© pendant le chargement des publications -->
        <div id="loadingMessage" class="loading-message">
            Chargement des publications...
        </div>

        <!-- Message d'erreur en cas de probl√®me de chargement (cach√© par d√©faut) -->
        <div id="errorMessage" class="error-message" style="display: none;">
            Une erreur est survenue lors du chargement
        </div>

        <!-- ========== CONTAINER DES PUBLICATIONS ========== -->
        <!-- Zone o√π seront inject√©es dynamiquement toutes les publications via JavaScript -->
        <div id="postsContainer" class="posts-container">
            <!-- Les posts seront ajout√©s dynamiquement par JavaScript -->
        </div>
    </div>
</div>

<!-- ========== TEMPLATES HTML (INVISIBLES) ========== -->
<!-- Ces templates sont utilis√©s par JavaScript pour cr√©er dynamiquement le contenu -->

<!-- ========== TEMPLATE PRINCIPAL D'UNE PUBLICATION ========== -->
<!-- Structure HTML r√©utilisable pour chaque publication de p√™che -->
<template id="post-template">
    <div class="post-card">

        <!-- En-t√™te de la publication avec informations sur l'auteur -->
        <div class="post-header">
            <div class="post-author-info">
                <!-- Avatar de l'auteur de la publication -->
                <div class="post-author-avatar">
                    <img class="avatar-img" src="" alt="" loading="lazy">
                </div>
                <!-- D√©tails de l'auteur (nom et date de publication) -->
                <div class="post-author-details">
                    <div class="post-author"></div>
                    <div class="post-date"></div>
                </div>
            </div>
        </div>

        <!-- Contenu principal de la publication (titre, description, image) -->
        <div class="post-content">
            <h2 class="post-title"></h2>
            <p class="post-description"></p>
            <!-- Image de la prise de p√™che (cach√©e si pas d'image, cliquable pour agrandir) -->
            <img class="post-image" src="" alt="Photo de p√™che" loading="lazy" style="display: none; cursor: pointer;">
        </div>

        <!-- ========== D√âTAILS DE LA P√äCHE ========== -->
        <!-- Section pour afficher les d√©tails techniques de la p√™che (lieu, poisson, etc.) -->
        <div class="post-details">
            <!-- Les d√©tails seront ajout√©s dynamiquement par JavaScript -->
        </div>

        <!-- ========== SECTION COMMENTAIRES ========== -->
        <!-- Section compl√®te pour la gestion des commentaires -->
        <div class="comments-section">
            <!-- Titre des commentaires avec ic√¥ne toggle et compteur -->
            <h3 class="comments-title">
                <span class="comments-toggle-icon">‚ñ∂</span>
                <span class="comments-count">Commentaires (0)</span>
            </h3>

            <!-- Contenu des commentaires (cach√© par d√©faut, s'ouvre au clic) -->
            <div class="comments-content hidden">
                <!-- Liste des commentaires existants -->
                <div class="comments-list">
                    <!-- Les commentaires seront ajout√©s ici dynamiquement -->
                </div>

                <!-- Bouton pour ouvrir le formulaire d'ajout de commentaire -->
                <button class="add-comment-toggle">
                    üí¨ Ajouter un commentaire
                </button>

                <!-- Formulaire d'ajout de nouveau commentaire (cach√© par d√©faut) -->
                <form class="add-comment-form hidden">
                    <!-- Zone de texte pour saisir le commentaire -->
                    <textarea
                            class="comment-input"
                            placeholder="√âcrivez votre commentaire..."
                            maxlength="1000"
                            required
                    ></textarea>
                    <!-- Boutons d'action du formulaire -->
                    <div class="comment-form-buttons">
                        <button type="button" class="comment-btn comment-btn-cancel">
                            Annuler
                        </button>
                        <button type="submit" class="comment-btn comment-btn-submit">
                            Publier
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</template>

<!-- ========== TEMPLATE POUR UN D√âTAIL DE P√äCHE ========== -->
<!-- Structure pour afficher un d√©tail sp√©cifique (ex: "Lieu: Lac de Savoie") -->
<template id="detail-template">
    <div class="detail-item">
        <div class="detail-label"></div> <!-- Label du d√©tail (ex: "Lieu") -->
        <div class="detail-value"></div> <!-- Valeur du d√©tail (ex: "Lac de Savoie") -->
    </div>
</template>

<!-- ========== TEMPLATE POUR UN COMMENTAIRE ========== -->
<!-- Structure HTML pour chaque commentaire individuel -->
<template id="comment-template">
    <div class="comment-item">
        <!-- En-t√™te du commentaire avec avatar et informations auteur -->
        <div class="comment-header">
            <div class="comment-author-info">
                <!-- Avatar de l'auteur du commentaire -->
                <div class="comment-author-avatar">
                    <img class="comment-avatar-img" src="" alt="" loading="lazy">
                </div>
                <!-- D√©tails de l'auteur du commentaire (nom et date) -->
                <div class="comment-author-details">
                    <div class="comment-author"></div>
                    <div class="comment-date"></div>
                </div>
            </div>
        </div>
        <!-- Contenu textuel du commentaire -->
        <div class="comment-content"></div>
    </div>
</template>

<!-- ========== TEMPLATE POUR MESSAGE "AUCUN COMMENTAIRE" ========== -->
<!-- Affich√© quand une publication n'a pas encore de commentaires -->
<template id="no-comments-template">
    <div class="no-comments">Aucun commentaire pour le moment</div>
</template>

<!-- ========== TEMPLATE POUR FEED VIDE ========== -->
<!-- Affich√© quand aucune publication n'est disponible dans le feed -->
<template id="empty-feed-template">
    <div class="empty-feed-message">
        <div class="empty-feed-icon">üé£</div>
        <div class="empty-feed-title">Aucune publication √† afficher</div>
        <div class="empty-feed-subtitle">
            La communaut√© n'a pas encore partag√© de prises.<br>
            Revenez plus tard pour d√©couvrir les derni√®res captures !
        </div>
    </div>
</template>

<!-- ========== PIED DE PAGE ========== -->
<!-- Footer avec liens sociaux et informations sur l'application -->
<footer>
    <div class="footer-content">
        <h3 class="footer-title">Suivez-nous !</h3>

        <!-- Ic√¥nes et liens vers les r√©seaux sociaux -->
        <ul class="social-links">
            <li><img src="../IMG/Facebook.png" alt="Facebook"></li>
            <li><img src="../IMG/X.png" alt="X (Twitter)"></li>
            <li><img src="../IMG/Instagram.png" alt="Instagram"></li>
        </ul>

        <!-- Informations de marque et copyright -->
        <div class="footer-brand">Bienvenue sur FishOn</div>
        <div class="footer-copyright">@copyright2025</div>
    </div>
</footer>

<!-- ========== SCRIPTS JAVASCRIPT ========== -->
<!-- Chargement des scripts pour les fonctionnalit√©s de l'application -->
<script src="../JS/API.js"></script>
<script src="../JS/ErrorHandler.js"></script>
<script src="../JS/APIService.js"></script>
<script src="../JS/utils.js"></script>
<script src="../JS/Feed.js"></script>

</body>
</html>